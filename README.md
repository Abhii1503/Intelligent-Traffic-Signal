# Intelligent-Traffic-Signal
Abstract

For smart city management, efficient handling of road traffic is one of the key aspects. Traffic congestion can be managed effectively, if the numbers of vehicles that are to pass through a crowded junction can be pre-estimated in time. The proposed method presents a framework, which has the capability to continuously convey the vehicle count and generate an alarm in case of large vehicle gathering to the controlling station in the Chandigarh or alike urban Indian cities. 
The number of vehicles passing through a location well before the required traffic junction can be estimated using the help of image processing techniques. Further, the monitoring details can be shared to a distant controlling center situated anywhere in the city through internet usage. The performed experiments demonstrate the effectiveness of this Internet of Things (IoT) based technology.

Keywords: Traffic Volume Estimation, Genetic Algorithm, Wireless sensor network, Vehicle detection, Intelligent Traffic Signal Controller.

1.1 Introduction

Indian city managing system is a combination of many interdependent systems, in which traffic management plays a significant role. Moreover, it can be stated as one of the key aspects of the smart city. The world is moving very fast and it has to keep moving this way for continuous development. On contrary, modern transport is failing to provide smooth transportation system to the people. Excessive traffic jams lead to delays in reaching workplace or home, wastage of fuel, wear and tear on vehicles or even a road rage by the stressed and frustrated motorists. In addition, an increasing population is directly resulting in an increasing traffic related problems such as over speeding, accidents, hit and run, and so on. 
Criminal activities like mobile snatching at traffic signals also happen in metropolitan cities during long traffic jams. Therefore, an intelligent traffic management has evolved as a compulsory requirement for a prosper civilization. Currently, smart and adaptable traffic control systems are being preferred over fixed time systems in most of developing nations. This type of traffic controlling is being monitored largely through centrally controlled systems/servers. Considering this, the Internet of Things, which has proved its worth in almost everything in our daily life, can be considered as a tool for managing the traffic through central server. In our proposed work, the count of vehicles passing through a passage that is at a few distance before the active traffic jam points can be conveyed to control station for managing the traffic flow. 
The timely received information for the traffic jam node in the city can be communicated using internet and cloud to manage the vehicle inflow. For counting of vehicles in real time, we have used image-processing applications in Open-CV software. We have proposed to solve the issue for Chandigarh traffic with the help of economical raspberry – pi board. The implementation of our proposal is inexpensive and asks for very little infrastructure. Therefore, the proposed system manages the traffic on local and centralized servers by exploiting the concepts of IoT and Intelligent Image Processing. 

In proposed system for Indian urban settings, the real time video data is acquired is firstly. Then, it is divided into frames, and then after binary conversion and noise removal, blob detection is performed and finally the count is estimated using the proposed vehicle counting method. The experiments are performed on Chandigarh city road scenes. The representation of traffic data in statistical form can also be helpful to authorities for real-time controlling and managing traffic. Moreover, it may also be helpful for future planning. The obtained vehicle count is then made available to a controlling station by using real time internet-based database.
Objectives:
⦁	To control road traffic using IOT 
⦁	To control road traffic using image processing python
⦁	To give highest priority to ambulance clear path to pass 
Scope:
Traffic management system is considered as one of the major dimensions of a smart city. With the rapid growth of population and urban mobility in metropolitan cities, traffic congestion is often seen on roads. To tackle various issues for managing traffic on roads and to help authorities in proper planning, a smart traffic management system using the Internet of Things (IoT) is proposed in this paper. A hybrid approach (combination of centralized and decentralized) is used to optimize traffic flow on roads and an algorithm is devised to manage various traffic situations efficiently. For this purpose, the system takes traffic density as input from a) cameras b) and sensors, then manages traffic signals. Another algorithm based on Artificial Intelligence is used to predict the traffic density for future to minimize the traffic congestion. Besides this, RFIDs are also used to prioritize the emergency vehicles such as ambulances and fire brigade vehicles during a traffic jam. In case of fire on the road, Smoke sensors are also part of this system to detect this situation. To demonstrate the effectiveness of the proposed traffic management system, a prototype is developed which not only optimizes the flow of traffic but also connects nearby rescue departments with a centralized server. Moreover, it also extracts useful information presented in graphical formats that may help the authorities in future road planning.

1.2 Literature Survey

The technology of IoT has been used recently in variety of applications. This section presents work carried out using IoT in traffic management.
Using IoT, IR sensor and cameras. This work provided an IR sense-based solution that makes traffic signals to shift the lights (red/yellow/green) dynamically. The sensed data gathered from IR sensor was transmitted by the Wi-Fi transmitter and was received by the raspberry-pi controller. The method had an advantage of ruling out the ‘unwanted wait’ for vehicles during traffic light operations in more crowded regions.
An IoT based traffic control system was presented in this system utilized MATLAB software for image processing and used WI-FI transceiver module for transmitting the vehicle count information. The next signal was dependent upon the inputs from the previous signal’s traffic density. The hardware used were raspberry-pi and Microcontroller. The system can be made more effective, if instead of Wi-Fi transceiver, direct data communication through cloud have been preferred.
A system to control traffic was proposed in, which used wireless transmitter to transmit the images directly to main server. Then, the server system did the processing of images and found the traffic density. The time span of red light for a particular lane of the intersection was determined by traffic density on road. However, the method can be improved if the information to be transmitted is not in the form of images. Rather, the processed output information is transmitted itself, it will save lot of time and load of communication.
By using sensor sources that transmitted continuous infrared light. The presence or absence of the vehicle was detected on the basis of the intensity of reflected light back to the sensors. The method proposed to provide the framework for a smart traffic routing system. Here, the sensors used had a drawback that their output is dependent on changing temperature and humidity conditions.
In a progressive Internet of Things (IoT) based traffic management system was developed. In this, embedded circuit, which operated using RFID with clustered system, was used. For working with big data analytics, Hadoop was incorporated. Along with this, supervised learning methodologies were used in this research.
A similar approach was presented in that was aimed at detecting vehicles and get their location by using sensors and RFIDs. In this, the data acquired by sensors was sent to centralized controlling center by using a wireless connection for further processing.
An IoT based system for improved parking management was proposed in for heterogeneous traffic condition countries like India. Image processing was used in form of Optical Character Recognition to verify employee, further extracted number plate was forwarded to server system. The system ensured that only registered candidates would be allotted the available parking lot. A micro controller facilitated a real-time analysis and optimization of vehicles.
A lane-based traffic monitoring system was presented in with the help of Ultrasonic sensors. The received data from sensors was processed using controller. After this, it was transferred to server through Wi-Fi module. Traffic was controlled by traffic signal control mechanism, which was dependent upon the detecting traffic levels at lanes.
An adaptive system designed for managing the traffic system in reference to the automatic passing of emergency vehicles was proposed in using IoT technology. They used Raspberry PI, Node MCU, RFID Tag and Reader for making a system to change signal changes by properly communicating with the sensors in vehicle.
A scalable architecture for urban IoT environments was proposed in that was primarily based on Lambda Architecture, ingesting the data through web services that provide a common interface to our system, and then, storing the data in a distributed, scalable, NoSQL data store. The researchers provided a study on how cloud-computing and big-data management can help in decision making for traffic management in smart cities. The work in this paper also implemented a concrete proof-of-concept, based on data publicly available from the city of Edmonton.
However, the proposed method focuses at providing the vehicle count data in Indian Urban cities to control station for a user specific time interval at user specified place that can help to manage traffic, which is going to affect the next busy junction. The next section provides the details of the procedure adopted during the proposed framework.

1.3 Methodology

The proposed system, shown in Figure 1, is designed to govern traffic at road networks, sensing through sensors, surveillance cameras, and RFIDs which are embedded on roadsides. The system works in a distributed manner, it processes sensors’ data at the node level and videos’ data at the local server, calculates cumulative density to regulate the traffic according to density. In addition to this, it also tackles emergency vehicles such as ambulance, fire brigade. it also helps the users to know the congestion status at a road through prediction. The system is divided into three layers. A) Data Acquisition and Collection layer. B) Data Processing and Decision-making layer C) Application and Actuation layer.
The automatic counting of vehicles passing through a chosen destination was obtained by using image-processing techniques. A camera system was used to acquire the real time video footage of the traffic flow through road. After acquiring the video through camera, a portable raspberry-pi processing system was used to work on this data. Finally, after the average vehicle count per specified time interval has been found, the same processing system is used to communicate the same information to central control system. The complete details of how the work has been carried out are explained in following two sub sections:

A.	Vehicle counting using image processing
After obtaining the video footage from the camera system, the processing was done on raspberry pi using Open CV software. The flow of work done on image to acquire the number of vehicles passing through a region of interest area has been illustrated using figure 1. The description of steps adopted is provided as follows:
⦁	As seen in above figure, the first step involves extraction of the individual frames from the video sequence This is performed using the ‘cap.read( )’ command in Open-CV.
After this, single image frame was worked upon to find the total number of vehicle objects present in the frame.
⦁	The default background subtracting operation of OpenCV: ‘createBackgroundSubtractorMOG2()’ was incorporated to generate a mask that has the ability to deduct the background from the image frame. Now, after application of above steps, only foreground objects were left in the image frame.
⦁	To reduce the noise, foreground image was passed through a Gaussian filter. Further, a morphological operation of closing was applied to properly embrace the objects present in the image.
⦁	In the next step, the processed image was converted to binary form, in which, the pixel value was converted either to ‘1’ or ‘0’ depending upon a threshold value. The OTSU bimodal threshold method was used to generate this threshold value. The binary threshold image is generated, because it is easier to detect the contours of objects in such kind of image.
After this, the contours are detected using the ‘findContours( )’ operation of Open-CV. Once, all the contours were detected in the image, their different properties could be used to find the desired class of objects. For our use, the size of the detected contours was taken as a property for classifying it as a vehicle or not. The region of interest was selected in the image by plotting two lines on the image frame: one at the upper bound of the region, and other at the lower bound of the region. The vehicle counter only updated if the detected vehicle was present in this specified interest area.
Once, we found the total no. of vehicles presents in single frame of the image, next step was to realize the average attendance of vehicles in the region of interest area. This information is particularly helpful in determining the load of traffic in a certain time interval. For this, per second interval was chosen to compute the average value of vehicle present during this time interval. The value of count to be communicated via internet was averaged in each time instant. Next part discusses the procedure of transferring the data from raspberry- pi processor to the central server system via internet.

B. Transmission of information for traffic management system using internet
This process of communication between the camera guided processing system and the final user server system via internet can be explained in four stages. The complete block representation is presented in figure 2 and each step is discussed in detail as follows:
– Fetching per second Vehicle Count Data from Open CV: The average value of vehicle present during respective time interval was fetched and stored inside a variable that updated after every fixed time interval.
– Interfacing of Firebase Google server with Raspberry Pi using Python: Next, to send processed information remotely to control room we must have a server and portable Raspberry system must have internet connection. For the server we have used Google Real Time Database server, i.e., Firebase. To use Firebase Real Time Database, we must have compatibility with the Processor or Controller. To do so we have used Python language.
– Establishing Connection with Firebase (Real Time Database): After interfacing, next step was to establishing connection with our database. For that, we had created new database on firebase server. Then, connected this to database using Credentials (API keys (Application Programming Interface), End Point URL (Universal Resource Locator)) using Python.
–  Sending Vehicle count data to Real Time Cloud: After connecting to database, our task was to send vehicle count data to server remotely.
